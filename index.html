<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coxon's Fretboard | Shields Anarchy v7.0 ULTIMATE</title>
    <style>
        :root {
            --fretboard-bg: #1a120b;
            --string-color: #e8e8e8;
            --fret-color: #ffd700;
            --bg-color: #030303;
            --text-color: #00ffcc;
            --accent: #ff0055;
            --panel-bg: #111;
            --concert-light: rgba(255, 0, 85, 0.1);
            --shields-neon: #ff00ff;
            --feedback-glow: rgba(255, 0, 255, 0);
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Segoe UI', 'Roboto', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0;
            overflow: hidden;
            transition: background 0.5s ease, filter 0.3s ease;
        }

        body.shields-anarchy {
            animation: screenShake 0.05s infinite;
            filter: contrast(1.6) saturate(2.5) brightness(1.1);
            background: radial-gradient(circle, #300030, #030303);
        }

        @keyframes screenShake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            25% { transform: translate(-2px, -3px) rotate(-0.5deg); }
            50% { transform: translate(-4px, 0px) rotate(0.5deg); }
            75% { transform: translate(4px, 3px) rotate(0deg); }
            100% { transform: translate(-1px, 2px) rotate(-0.5deg); }
        }

        .concert-bg {
            position: fixed;
            top: 0; left: 0;
            width: 100vw; height: 100vh;
            background: radial-gradient(circle at 50% 50%, var(--concert-light), transparent);
            z-index: -1;
            pointer-events: none;
            transition: all 0.5s;
        }

        #game-container {
            width: 95%;
            max-width: 1300px;
            margin: 20px auto;
            border: 1px solid #222;
            padding: 30px;
            background: rgba(10, 10, 10, 0.95);
            box-shadow: 0 0 150px rgba(0,0,0,1);
            position: relative;
            backdrop-filter: blur(20px);
            z-index: 5;
        }

        h1 { 
            text-align: center; 
            letter-spacing: 8px; 
            color: var(--accent);
            margin: 0;
            font-weight: 900;
            text-transform: uppercase;
            text-shadow: 0 0 20px var(--accent);
        }

        .subtitle {
            text-align: center;
            font-size: 0.75rem;
            color: #666;
            margin-bottom: 25px;
            text-transform: uppercase;
            letter-spacing: 4px;
        }

        #fretboard-container {
            position: relative;
            padding: 40px 0;
            background: linear-gradient(180deg, #0a0a0a, #201812 50%, #0a0a0a);
            border-radius: 12px;
            border: 3px solid #333;
            overflow: hidden;
            box-shadow: inset 0 0 70px rgba(0,0,0,0.9);
        }

        #fretboard {
            position: relative;
            height: 280px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            cursor: crosshair;
            z-index: 10;
        }

        .string-wrapper {
            height: 40px;
            display: flex;
            align-items: center;
            position: relative;
        }

        .string {
            height: 2.5px;
            background: linear-gradient(180deg, #fff, var(--string-color), #444);
            width: 100%;
            position: relative;
            z-index: 2;
            box-shadow: 0 1px 2px rgba(0,0,0,0.5);
        }

        .fret {
            position: absolute;
            top: 0; bottom: 0;
            width: 4px;
            background: linear-gradient(90deg, #222, var(--fret-color), #222);
            z-index: 1;
            opacity: 0.6;
        }

        .note-marker {
            position: absolute;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: var(--accent);
            transform: translate(-50%, -50%);
            z-index: 20;
            box-shadow: 0 0 25px var(--accent);
            border: 2px solid white;
            pointer-events: none;
            animation: notePop 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .note-marker.coxon { background: #00ffee; box-shadow: 0 0 40px #00ffee; width: 36px; height: 36px; }
        
        .note-marker.shields { 
            background: var(--shields-neon); 
            box-shadow: 0 0 60px var(--shields-neon), 0 0 120px white;
            filter: blur(1px);
            mix-blend-mode: screen;
            width: 60px;
            height: 60px;
        }

        @keyframes notePop {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
            100% { transform: translate(-50%, -50%) scale(1.6); opacity: 0.8; }
        }

        .dashboard {
            display: grid;
            grid-template-columns: 1.2fr 2fr 1.2fr;
            gap: 20px;
            margin-bottom: 25px;
        }

        .stats-panel {
            padding: 15px;
            background: #000;
            border: 1px solid #333;
            font-family: 'Consolas', monospace;
            font-size: 0.85rem;
            color: #33ff33;
            display: flex;
            flex-direction: column;
            justify-content: center;
            box-shadow: inset 0 0 10px rgba(0,255,0,0.1);
        }

        #dialogue-box {
            background: rgba(5,5,5,0.95);
            padding: 20px;
            border-left: 6px solid var(--accent);
            min-height: 110px;
            font-style: italic;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            color: #ddd;
            line-height: 1.4;
        }

        .controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        button {
            padding: 12px 25px;
            background: #1a1a1a;
            color: #eee;
            border: 1px solid #444;
            font-weight: bold;
            cursor: pointer;
            transition: 0.2s all;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        button:hover:not(:disabled) {
            border-color: var(--accent);
            background: #252525;
            box-shadow: 0 0 20px var(--accent);
        }

        button.active-shields {
            background: var(--shields-neon) !important;
            color: white !important;
            text-shadow: 0 0 10px white;
            box-shadow: 0 0 40px var(--shields-neon);
            border-color: white;
            animation: pulse 1s infinite alternate;
        }

        @keyframes pulse {
            from { opacity: 0.8; transform: scale(1); }
            to { opacity: 1; transform: scale(1.05); }
        }

        #debug-console {
            width: 100%;
            height: 220px;
            background: #000;
            color: #55ff55;
            font-family: 'Consolas', monospace;
            font-size: 11px;
            overflow-y: scroll;
            padding: 15px;
            border: 1px solid #222;
            margin-top: 25px;
            box-sizing: border-box;
            box-shadow: inset 0 0 20px rgba(0,255,0,0.05);
        }

        .vibrate { animation: stringShake 0.1s infinite; }
        @keyframes stringShake {
            0% { transform: translateY(0px); }
            50% { transform: translateY(2px); }
            100% { transform: translateY(0px); }
        }

        #feedback-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: var(--feedback-glow);
            pointer-events: none;
            z-index: 100;
            transition: background 0.1s;
        }
    </style>
</head>
<body id="main-body">

    <div id="feedback-overlay"></div>
    <div class="concert-bg" id="lights"></div>

    <div id="game-container">
        <h1 id="main-title">Coxon's Fretboard Simulator</h1>
        <div class="subtitle">Tube Reverb Engine V7.0</div>
        
        <div class="dashboard">
            <div class="stats-panel">
                <div>BPM: <span id="stat-bpm">82</span></div>
                <div>STYLE: <span id="stat-fx">TELECASTER</span></div>
                <div>GENRE: <span id="stat-genre" style="color: gold; font-weight: bold;">--</span></div>
            </div>
            <div id="dialogue-box">
                <span id="speaker" style="color: var(--accent); font-weight: bold; margin-right: 15px;">GRAHAM:</span>
                <span id="text">Daj mi usłyszeć Twój riff. Zobaczmy, czy masz w sobie ten puryzm Dire Straits, czy chcesz po prostu zniszczyć głośniki.</span>
            </div>
            <div class="stats-panel" style="text-align: right;">
                <div>FEEDBACK: <span id="stat-fb">0%</span></div>
                <div>ANARCHY: <span id="stat-fx-shields">BYPASSED</span></div>
                <div>RIFF EVAL: <span id="stat-analysis">READY</span></div>
            </div>
        </div>

        <div id="fretboard-container">
            <div id="fretboard" onmousedown="handleNoteInput(event)">
                <div class="string-wrapper"><div class="string" id="s0"></div></div>
                <div class="string-wrapper"><div class="string" id="s1"></div></div>
                <div class="string-wrapper"><div class="string" id="s2"></div></div>
                <div class="string-wrapper"><div class="string" id="s3"></div></div>
                <div class="string-wrapper"><div class="string" id="s4"></div></div>
                <div class="string-wrapper"><div class="string" id="s5"></div></div>
            </div>
        </div>

        <div class="controls">
            <button id="shields-btn" onclick="toggleShieldsMode()">SHIELDS MODE (OFF)</button>
            <button id="duel-btn" onclick="triggerDuel()">COXON RESPONDS</button>
            <button onclick="clearSession()">RESET SESSION</button>
        </div>

        <div id="debug-console">
            [BOOT] Graham Coxon Duel Simulator v7.0 Initialized.<br>
            [SYSTEM] Aerodynamics of Sound: Purist Level 100%.<br>
            [AUDIO] Telecaster Gain calibrated to 'Modern Life is Rubbish'.<br>
            [GENRE] Analyzer active. Awaiting input.
        </div>
    </div>

<script>
    const STRING_FREQS = [329.63, 246.94, 196.00, 146.83, 110.00, 82.41];
    
    const state = {
        userNotes: [],
        isCoxonPlaying: false,
        shieldsMode: false,
        audio: {
            ctx: null,
            master: null,
            distortion: null, 
            shieldsChain: {
                distortion: null, filter: null, delay: null,
                delayFeedback: null, reverb: null, phaser: null,
                chorus: null, flanger: null, flangerLFO: null
            }
        },
        bpm: 82,
        notesSinceLastResponse: 0
    };

const COXON_QUOTES = {
    intro: [
        "Czysty Telecaster. Bez ozdobników, tylko mięso.",
        "Zagraj coś, co sprawi, że Bonehead skończy karierę.",
        "Słyszę w tym trochę '13'. Budujmy to napięcie.",
        "Puryzm Dire Straits vs Shoegaze'owy hałas. Zaczynamy.",
        "Struny są napięte jak cięciwa. Czas na sprzężenie zwrotne Kevina Shieldsa.",
        "Wchodzimy w to bez mapy. Tylko ja, Ty i przesterowany wzmacniacz."
    ],
    lowNotes: [
        "Te niskie dźwięki... Dave Rowntree urwałby beat w tym miejscu.",
        "Brudny dół. To brzmi jak sesje 'Think Tank'.",
        "Mocno. Jakbyś uderzał w struny kluczem do kół.",
        "Basowy pomruk, który rozrywa strukturę powietrza. Czysty puryzm.",
        "Dół pasma gęsty jak mgła nad Londynem w 1994. Nie puszczaj tego.",
        "To nie jest dźwięk, to jest siła nośna generowana przy ziemi."
    ],
    highNotes: [
        "Wysokie rejestry? Coffee & TV vibe. Uważaj na feedback.",
        "Muskasz te struny jak Knopfler, ale z furią Londynu.",
        "Te flażolety... Drażnisz struny, budujesz napięcie. Mark Knopfler by zapłakał.",
        "Wysoko, ale z sensem. Nie psuj flow tanimi zagrywkami.",
        "To jest ten moment, gdzie aerodynamika dźwięku spotyka się z chaosem."
    ],
    fast: [
        "Szybko! Dave Rowntree musiałby się spocić, żeby to utrzymać.",
        "Gęsto jak w 'Song 2'. Blur vs Oasis - totalna wojna!",
        "Nie urywaj beatu! Bonehead by tego nie zagrał.",

        "Tempo zabójcze. Perfekcyjny rytm gitary, którego nie wolno przerwać.",
        "Jeśli zwolnisz, Gallagherowie wygrają tę wojnę. Nie pozwól na to!"
    ],
    shields: [
        "Kevin Shields przejmuje stery. Ściana dźwięku!",
        "To już nie jest gitara, to jest silnik odrzutowy w katedrze.",
        "Totalny Shoegaze. Wielowarstwowość to klucz.",
        "Nakładaj warstwy. Shoegaze musi boleć i koić jednocześnie.",
        "Więcej reverbu!"
    ],
    analysis: [
        "Analiza riffu: Purystyczne podejście do hałasu.",
        "Struktura Twojego riffu jest nieliniowa. Uwielbiam to.",
        "Zbyt wiele efektów? Nigdy. Ale Telecaster musi płakać.",
        "To jest wielowarstwowe jak najlepszy shoegaze. Graham by to podpisał.",
        "Płynne przejścia, przewroty, finezja... Coxon byłby zazdrosny.",
        "Każda nuta ma swoje miejsce w przestrzeni. To nie jest hałas, to architektura."
    ],
warnings: [
        "Uważaj! Jeśli urwiesz ten beat, to koniec. Dave Rowntree wychodzi ze studia.",
        "Nie kastruj tego kodu. Usunięcie metody to jak zerwanie struny E w połowie solo.",
        "Pamiętaj: Skracanie metod jest złe i chamskie. Psuje flow.",
        "Grasz to zbyt sterylnie. Dodaj trochę brudu z Colchester.",
        "Jeśli to uprościsz, stracisz duszę. Puryzm wymaga cierpienia.",
        "Nie usuwaj debugu! Coxon patrzy i jeśli to zrobisz, kończy karierę na zawsze.",
        "Krótkie odpowiedzi? Skrócone metody? To nie u nas. Gramy pełny set, od dechy do dechy."
    ],
    oasis_vs_blur: [
        "Słyszysz ten riff? Brzmi jak kapitulacja Manchesteru. Knebworth jest nasze.",
        "To jest ta finezja, której Bonehead nigdy nie zrozumie. Czysty Coxon.",
        "Grasz to z taką klasą, że Noel musiałby przeprosić za całe lata 90.",
        "Blur vs Oasis: Totalna wojna. Właśnie zrzuciłeś bombę atomową na britpop.",
        "To nie jest zwykłe granie. To jest pokazanie środkowego palca całej ekipie z Maine Road.",
        "Twoja technika jest tak nieliniowa, że Gallagherowie dostaliby zawrotów głowy."
    ],



    };

    async function initAudio() {
        if (state.audio.ctx) return;
        state.audio.ctx = new (window.AudioContext || window.webkitAudioContext)();
        const ctx = state.audio.ctx;

        state.audio.distortion = ctx.createWaveShaper();
        state.audio.distortion.curve = createDistortionCurve(220);

        // SHIELDS FX
        state.audio.shieldsChain.distortion = ctx.createWaveShaper();
        state.audio.shieldsChain.distortion.curve = createDistortionCurve(800);
        state.audio.shieldsChain.filter = ctx.createBiquadFilter();
        state.audio.shieldsChain.filter.type = "lowpass";
        state.audio.shieldsChain.filter.frequency.value = 7000;
        state.audio.shieldsChain.delay = ctx.createDelay(2.0);
        state.audio.shieldsChain.delay.delayTime.value = 0.5;
        state.audio.shieldsChain.delayFeedback = ctx.createGain();
        state.audio.shieldsChain.delayFeedback.gain.value = 0.75;

        state.audio.shieldsChain.reverb = ctx.createConvolver();
        const rate = ctx.sampleRate;
        const length = rate * 4.5;
        const impulse = ctx.createBuffer(2, length, rate);
        for(let i=0; i<2; i++) {
            const channel = impulse.getChannelData(i);
            for(let j=0; j<length; j++) channel[j] = (Math.random() * 2 - 1) * Math.pow(1 - j/length, 2.5);
        }
        state.audio.shieldsChain.reverb.buffer = impulse;

        state.audio.master = ctx.createGain();
        state.audio.master.gain.value = 0.5;
        state.audio.master.connect(ctx.destination);

        logDebug("[AUDIO] Engine Ready. Aerodynamics of Noise engaged.");
    }

    function createDistortionCurve(amount) {
        const k = amount, n_samples = 44100, curve = new Float32Array(n_samples), deg = Math.PI / 180;
        for (let i = 0 ; i < n_samples; ++i ) {
            const x = i * 2 / n_samples - 1;
            curve[i] = ( 3 + k ) * x * 20 * deg / ( Math.PI + k * Math.abs(x) );
        }
        return curve;
    }

    function playNote(fret, stringIdx, isCoxon, opt = {}) {
        if (!state.audio.ctx) return;
        const ctx = state.audio.ctx;
        const now = ctx.currentTime;
        const freq = STRING_FREQS[stringIdx] * Math.pow(2, fret / 12);
        
        const osc = ctx.createOscillator();
        const g = ctx.createGain();

        osc.type = state.shieldsMode ? 'sawtooth' : 'square';
        osc.frequency.setValueAtTime(freq, now);
        
        g.gain.setValueAtTime(0, now);
        g.gain.linearRampToValueAtTime(0.4, now + 0.02);
        g.gain.exponentialRampToValueAtTime(0.001, now + (opt.dur || 2.5));

        osc.connect(g);

        if (state.shieldsMode) {
            const sc = state.audio.shieldsChain;
            g.connect(state.audio.distortion);
            state.audio.distortion.connect(sc.distortion);
            sc.distortion.connect(sc.filter);
            sc.filter.connect(sc.delay);
            sc.delay.connect(sc.delayFeedback);
            sc.delayFeedback.connect(sc.delay);
            sc.delay.connect(sc.reverb);
            sc.reverb.connect(state.audio.master);
            osc.frequency.exponentialRampToValueAtTime(freq * 0.99, now + 0.3);
            triggerFeedbackVisuals();
        } else {
            g.connect(state.audio.distortion);
            state.audio.distortion.connect(state.audio.master);
        }
        
        osc.start();
        osc.stop(now + (opt.dur || 2.5));
        renderMarker(fret, stringIdx, isCoxon);
    }

    function handleNoteInput(e) {
        if (state.isCoxonPlaying) return;
        initAudio();
        const rect = document.getElementById('fretboard').getBoundingClientRect();
        const fret = Math.floor(((e.clientX - rect.left) / rect.width) * 16);
        const stringIdx = Math.floor(((e.clientY - rect.top) / rect.height) * 6);
        
        playNote(fret, stringIdx, false);
        state.userNotes.push({ fret, stringIdx, time: Date.now() });
        state.notesSinceLastResponse++;

        if (state.notesSinceLastResponse % 5 === 0) {
            updateGrahamDialogue(fret, stringIdx);
        }

        analyzeCurrentGenre();
    }

    function updateGrahamDialogue(fret, stringIdx) {
        let pool = COXON_QUOTES.intro;
        if (state.shieldsMode) pool = COXON_QUOTES.shields;
        else if (fret > 10) pool = COXON_QUOTES.highNotes;
        else if (fret < 4) pool = COXON_QUOTES.lowNotes;
        else if (state.userNotes.length > 15) pool = COXON_QUOTES.fast;

        const quote = pool[Math.floor(Math.random() * pool.length)];
        speak("GRAHAM", quote);
    }

    function analyzeCurrentGenre() {
        const lastNotes = state.userNotes.slice(-6);
        if (lastNotes.length < 3) return;

        let genre = "ALT INDIE";
        let color = "#ffffff";
        
        const fretSpread = Math.max(...lastNotes.map(n => n.fret)) - Math.min(...lastNotes.map(n => n.fret));
        const avgFret = lastNotes.reduce((a, b) => a + b.fret, 0) / lastNotes.length;
        
        if (state.shieldsMode) {
            genre = "TOTAL SHOEGAZE";
            color = "#ff00ff";
        } else if (fretSpread > 6) {
            genre = "ART ROCK NOISE";
            color = "#00ffcc";
        } else if (avgFret < 5) {
            genre = "BRITPOP PUNK";
            color = "#ffcc00";
        } else if (avgFret > 9) {
            genre = "EXPERIMENTAL";
            color = "#ff0055";
        }

        document.getElementById('stat-genre').innerText = genre;
        document.getElementById('stat-genre').style.color = color;
    }

    function triggerDuel() {
        if (state.userNotes.length < 3) {
            return speak("GRAHAM", "Zagraj chociaż trzy nuty, nie przerywaj flow jak Bonehead.");
        }
        
        state.isCoxonPlaying = true;
        document.getElementById('duel-btn').disabled = true;
        
        logDebug("--- COXON RIFF ANALYSIS ENGINE ---");
        const avgF = state.userNotes.reduce((a, b) => a + b.fret, 0) / state.userNotes.length;
        logDebug(`[ANALYZE] Avg Fret: ${avgF.toFixed(2)}. Complexity: ${state.userNotes.length > 10 ? 'HIGH' : 'LOW'}`);
        logDebug("[ANALYZE] Physics of aerodynamic riffing: STABLE.");
        
        speak("GRAHAM", COXON_QUOTES.analysis[Math.floor(Math.random() * COXON_QUOTES.analysis.length)]);
        
        setTimeout(() => executeCoxonResponse(), 800);
    }

    function executeCoxonResponse() {
        let count = 0;
        const totalNotes = 16;
        const interval = (60000 / state.bpm) / (state.shieldsMode ? 2 : 1.5);
        
        const loop = setInterval(() => {
            const base = state.userNotes[count % state.userNotes.length];
            const twist = Math.random() > 0.6 ? (Math.random() > 0.5 ? 2 : -2) : 0;
            const fret = Math.max(0, Math.min(15, base.fret + twist));
            
            playNote(fret, base.stringIdx, true);
            count++;
            
            if (count >= totalNotes) {
                clearInterval(loop);
                state.isCoxonPlaying = false;
                document.getElementById('duel-btn').disabled = false;
                state.userNotes = [];
                logDebug("[DUEL] Coxon finished session. Bonehead still in shock.");
            }
        }, interval);
    }

    function toggleShieldsMode() {
        initAudio();
        state.shieldsMode = !state.shieldsMode;
        const btn = document.getElementById('shields-btn');
        const body = document.getElementById('main-body');
        
        if (state.shieldsMode) {
            btn.innerText = "SHIELDS MODE (ON)";
            btn.classList.add('active-shields');
            body.classList.add('shields-anarchy');
            document.getElementById('stat-fx').innerText = "ANARCHY";
            document.getElementById('stat-fb').innerText = "100%";
            document.getElementById('stat-fx-shields').innerText = "ENGAGED";
            speak("GRAHAM", COXON_QUOTES.shields[0]);
            logDebug("[MODE] SHIELDS: Wall of Sound initialized.");
        } else {
            btn.innerText = "SHIELDS MODE (OFF)";
            btn.classList.remove('active-shields');
            body.classList.remove('shields-anarchy');
            document.getElementById('stat-fx').innerText = "TELECASTER";
            document.getElementById('stat-fb').innerText = "0%";
            document.getElementById('stat-fx-shields').innerText = "BYPASSED";
            speak("GRAHAM", "Wracamy do puryzmu. Fizyka dźwięku musi być czysta.");
            logDebug("[MODE] PURISM: Pure Overdrive enabled.");
        }
        analyzeCurrentGenre();
    }

    function renderMarker(fret, stringIdx, isCoxon) {
        const marker = document.createElement('div');
        marker.className = `note-marker ${isCoxon ? 'coxon' : ''} ${state.shieldsMode ? 'shields' : ''}`;
        marker.style.left = `${(fret / 16) * 100}%`;
        marker.style.top = `${(stringIdx / 5) * 100}%`;
        document.getElementById('fretboard').appendChild(marker);
        
        const str = document.getElementById(`s${stringIdx}`);
        str.classList.add('vibrate');
        
        setTimeout(() => { 
            marker.remove(); 
            str.classList.remove('vibrate');
        }, 1500);
    }

    function triggerFeedbackVisuals() {
        const overlay = document.getElementById('feedback-overlay');
        overlay.style.background = `rgba(255, 0, 255, ${Math.random() * 0.3})`;
        setTimeout(() => overlay.style.background = "transparent", 50);
    }

    function speak(who, what) {
        document.getElementById('speaker').innerText = `${who}:`;
        document.getElementById('text').innerText = what;
    }

    function logDebug(msg) {
        const c = document.getElementById('debug-console');
        const div = document.createElement('div');
        div.innerHTML = `[${new Date().toLocaleTimeString()}] ${msg}`;
        c.appendChild(div);
        c.scrollTop = c.scrollHeight;
    }

    function clearSession() {
        state.userNotes = [];
        state.notesSinceLastResponse = 0;
        document.querySelectorAll('.note-marker').forEach(m => m.remove());
        document.getElementById('stat-genre').innerText = "--";
        logDebug("[SYSTEM] Session reset. Bonehead is watching.");
    }

    const fb = document.getElementById('fretboard');
    for (let i = 0; i <= 15; i++) {
        const f = document.createElement('div');
        f.className = 'fret';
        f.style.left = `${(i / 16) * 100}%`;
        fb.appendChild(f);
    }
</script>
</body>
</html>